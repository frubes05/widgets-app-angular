import{a as L,c as A,h as U,i as z}from"./chunk-VATTXETB.js";import{a as Y,b as G,c as J,e as y}from"./chunk-BZUUHERN.js";import{$ as P,$a as l,Aa as u,Bb as j,D as O,Ea as k,Eb as x,La as s,Ma as E,Oa as S,Pa as D,Qa as N,Ra as B,Sa as a,Ta as r,Ua as C,Va as F,W as d,Wa as I,Wb as H,Xb as R,Ya as b,_a as c,aa as f,bc as h,dc as M,ec as _,gb as g,gc as Q,ha as T,ib as V,mb as $,nb as q,sa as m,tc as X,vc as K}from"./chunk-ODMKR34A.js";function ne(n,t){if(n&1){let e=b();a(0,"button",4),c("click",function(){let i=P(e).$implicit,p=l();return f(p.updatePageQuery(i))}),g(1),r()}if(n&2){let e=t.$implicit,o=l();E("pagination__button--active",e===o.currentPage),s("color",e===o.currentPage?"primary":void 0),m(),V(" ",e," ")}}var v=class n{pagination=d(Q);pageChange=new T;get currentPage(){return this.pagination.currentPage}get totalPages(){return 10}get visiblePages(){return this.pagination.getVisiblePages()}updatePageQuery(t){this.pagination.setPage(t),this.pageChange.emit(t)}nextPage(){this.pagination.nextPage(),this.pageChange.emit(this.currentPage)}prevPage(){this.pagination.prevPage(),this.pageChange.emit(this.currentPage)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["awa-pagination"]],outputs:{pageChange:"pageChange"},decls:7,vars:2,consts:[[1,"pagination"],["mat-icon-button","","aria-label","Previous page",3,"click","disabled"],["mat-raised-button","",1,"pagination__button",3,"color","pagination__button--active"],["mat-icon-button","","aria-label","Next page",3,"click","disabled"],["mat-raised-button","",1,"pagination__button",3,"click","color"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"button",1),c("click",function(){return o.prevPage()}),g(2," \u23EE "),r(),N(3,ne,2,4,"button",2,D),a(5,"button",3),c("click",function(){return o.nextPage()}),g(6," \u23ED "),r()()),e&2&&(m(),s("disabled",o.currentPage===1),m(2),B(o.visiblePages),m(2),s("disabled",o.currentPage===o.totalPages))},dependencies:[x,_,M,h,y],styles:["@keyframes _ngcontent-%COMP%_pulse{0%{background-color:#e0e0e0}50%{background-color:#f0f0f0}to{background-color:#e0e0e0}}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:16px}.pagination__button[_ngcontent-%COMP%]{min-width:40px}.pagination__button--active[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid #3f51b5}"]})};function oe(n,t){n&1&&(F(0),C(1,"button",4),I())}var w=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["awa-pagination-skeletons"]],decls:6,vars:1,consts:[[1,"pagination-skeleton"],["mat-icon-button","","aria-label","Previous page","disabled","",1,"skeleton","skeleton-button"],[4,"repeat"],["mat-icon-button","","aria-label","Next page","disabled","",1,"skeleton","skeleton-button"],["mat-raised-button","","disabled","",1,"skeleton","skeleton-button","skeleton-button--numbers"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"button",1),g(2," \u23EE "),r(),k(3,oe,2,0,"ng-container",2),a(4,"button",3),g(5," \u23ED "),r()()),e&2&&(m(3),s("repeat",3))},dependencies:[_,M,h,y,K],styles:["@keyframes _ngcontent-%COMP%_pulse{0%{background-color:#e0e0e0}50%{background-color:#f0f0f0}to{background-color:#e0e0e0}}.pagination-skeleton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:16px}.pagination-skeleton__button[_ngcontent-%COMP%]{min-width:40px}.pagination-skeleton__button--active[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid #3f51b5}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out;border-radius:4px;display:inline-block}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]{width:2.5rem;height:1.2rem}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton-text--button[_ngcontent-%COMP%]{margin:auto}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton-circle[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton-button--numbers[_ngcontent-%COMP%]{width:56px!important;min-width:56px!important;max-width:56px!important;flex:0 0 auto}"]})};function ie(n,t){if(n&1){let e=b();a(0,"awa-data-table",2),c("rowClick",function(i){P(e);let p=l();return f(p.goToPokemonDetails(i.name))}),r(),a(1,"div",3)(2,"awa-pagination",4),c("pageChange",function(i){P(e);let p=l();return f(p.loadNextPokemonBatch(i))}),r()()}if(n&2){let e=l();s("data",t)("displayedColumns",e.displayedColumns)("isClickable",!0)}}function ae(n,t){if(n&1&&C(0,"awa-data-table-skeleton",5)(1,"awa-pagination-skeletons"),n&2){let e=l();s("rowsLength",10)("columns",e.displayedColumns)}}var ee=class n{pokemonFacade=d(z);router=d(A);route=d(L);pokemons$=this.pokemonFacade.pokemons$;loading$=this.pokemonFacade.loading$;displayedColumns=X;ngOnInit(){this.route.queryParamMap.pipe(O()).subscribe(t=>{let e=Number(t.get("page")),o=isNaN(e)||e<1?1:e,p=Math.min(o,10);if(e!==p){this.router.navigate([],{relativeTo:this.route,queryParams:{page:p},queryParamsHandling:"merge",replaceUrl:!0});return}this.pokemonFacade.loadPokemons(p)})}loadNextPokemonBatch(t){this.router.navigate([],{queryParams:{page:t},queryParamsHandling:"merge"}),this.pokemonFacade.loadPokemons(t)}goToPokemonDetails(t){this.router.navigate(["/pokemon",t])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["awa-pokemon-page"]],decls:5,vars:3,consts:[[1,"pokemon-page__center"],[1,"pokemon-page"],[3,"rowClick","data","displayedColumns","isClickable"],[1,"pokemon-page__pagination"],[3,"pageChange"],[3,"rowsLength","columns"]],template:function(e,o){if(e&1&&(a(0,"section",0)(1,"mat-card",1),k(2,ie,3,3),$(3,"async"),k(4,ae,2,2),r()()),e&2){let i;m(2),S((i=q(3,1,o.pokemons$))?2:4,i)}},dependencies:[x,j,Y,_,U,R,H,J,v,w,G],styles:['@keyframes _ngcontent-%COMP%_pulse{0%{background-color:#e0e0e0}50%{background-color:#f0f0f0}to{background-color:#e0e0e0}}.pokemon-page[_ngcontent-%COMP%]{padding:1rem;box-shadow:0 2px 8px #00000080}@media (max-width: 768px){.pokemon-page[_ngcontent-%COMP%]{width:100%}}.pokemon-page__center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:32px;min-height:calc(100vh - 200px);background-image:url("./media/bg-green-2x-optim-XFYXT7HV.png");background-repeat:no-repeat;background-size:cover}'],changeDetection:0})};export{ee as PokemonPageComponent};
