import{a as A,c as H,h as X,i as Y}from"./chunk-SE2INQUQ.js";import{a as J,b as W,c as Z,e as M}from"./chunk-LUNFDZOE.js";import{$ as P,$a as l,Aa as u,Bb as U,D,Ea as f,Eb as h,La as m,Ma as E,N as T,Oa as N,Pa as B,Qa as F,Ra as I,Sa as a,Ta as r,Ua as C,Va as $,W as d,Wa as V,Wb as R,Xb as Q,Ya as b,_a as c,aa as k,bc as x,dc as y,ec as _,gb as g,gc as z,ha as S,i as O,ib as j,mb as q,nb as L,sa as s,tc as K,vc as G}from"./chunk-HTG73ZBY.js";function ie(n,t){if(n&1){let e=b();a(0,"button",4),c("click",function(){let i=P(e).$implicit,p=l();return k(p.updatePageQuery(i))}),g(1),r()}if(n&2){let e=t.$implicit,o=l();E("pagination__button--active",e===o.currentPage),m("color",e===o.currentPage?"primary":void 0),s(),j(" ",e," ")}}var v=class n{pagination=d(z);pageChange=new S;get currentPage(){return this.pagination.currentPage}get totalPages(){return 10}get visiblePages(){return this.pagination.getVisiblePages()}updatePageQuery(t){this.pagination.setPage(t),this.pageChange.emit(t)}nextPage(){this.pagination.nextPage(),this.pageChange.emit(this.currentPage)}prevPage(){this.pagination.prevPage(),this.pageChange.emit(this.currentPage)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["awa-pagination"]],outputs:{pageChange:"pageChange"},decls:7,vars:2,consts:[[1,"pagination"],["mat-icon-button","","aria-label","Previous page",3,"click","disabled"],["mat-raised-button","",1,"pagination__button",3,"color","pagination__button--active"],["mat-icon-button","","aria-label","Next page",3,"click","disabled"],["mat-raised-button","",1,"pagination__button",3,"click","color"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"button",1),c("click",function(){return o.prevPage()}),g(2," \u23EE "),r(),F(3,ie,2,4,"button",2,B),a(5,"button",3),c("click",function(){return o.nextPage()}),g(6," \u23ED "),r()()),e&2&&(s(),m("disabled",o.currentPage===1),s(2),I(o.visiblePages),s(2),m("disabled",o.currentPage===o.totalPages))},dependencies:[h,_,y,x,M],styles:["@keyframes _ngcontent-%COMP%_pulse{0%{background-color:#e0e0e0}50%{background-color:#f0f0f0}to{background-color:#e0e0e0}}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:16px}.pagination__button[_ngcontent-%COMP%]{min-width:40px}.pagination__button--active[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid #3f51b5}"]})};function ae(n,t){n&1&&($(0),C(1,"button",4),V())}var w=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["awa-pagination-skeletons"]],decls:6,vars:1,consts:[[1,"pagination-skeleton"],["mat-icon-button","","aria-label","Previous page","disabled","",1,"skeleton","skeleton-button"],[4,"repeat"],["mat-icon-button","","aria-label","Next page","disabled","",1,"skeleton","skeleton-button"],["mat-raised-button","","disabled","",1,"skeleton","skeleton-button","skeleton-button--numbers"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"button",1),g(2," \u23EE "),r(),f(3,ae,2,0,"ng-container",2),a(4,"button",3),g(5," \u23ED "),r()()),e&2&&(s(3),m("repeat",3))},dependencies:[_,y,x,M,G],styles:["@keyframes _ngcontent-%COMP%_pulse{0%{background-color:#e0e0e0}50%{background-color:#f0f0f0}to{background-color:#e0e0e0}}.pagination-skeleton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:16px}.pagination-skeleton__button[_ngcontent-%COMP%]{min-width:40px}.pagination-skeleton__button--active[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid #3f51b5}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out;border-radius:4px;display:inline-block}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]{width:2.5rem;height:1.2rem}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton-text--button[_ngcontent-%COMP%]{margin:auto}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton-circle[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%}.pagination-skeleton[_ngcontent-%COMP%]   .skeleton-button--numbers[_ngcontent-%COMP%]{width:56px!important;min-width:56px!important;max-width:56px!important;flex:0 0 auto}"]})};function re(n,t){if(n&1){let e=b();a(0,"awa-data-table",2),c("rowClick",function(i){P(e);let p=l();return k(p.goToPokemonDetails(i.name))}),r(),a(1,"div",3)(2,"awa-pagination",4),c("pageChange",function(i){P(e);let p=l();return k(p.loadNextPokemonBatch(i))}),r()()}if(n&2){let e=l();m("data",t)("displayedColumns",e.displayedColumns)("isClickable",!0)}}function pe(n,t){if(n&1&&C(0,"awa-data-table-skeleton",5)(1,"awa-pagination-skeletons"),n&2){let e=l();m("rowsLength",10)("columns",e.displayedColumns)}}var ne=class n{pokemonFacade=d(Y);router=d(H);route=d(A);destroy$=new O;pokemons$=this.pokemonFacade.pokemons$;loading$=this.pokemonFacade.loading$;displayedColumns=K;ngOnInit(){this.route.queryParamMap.pipe(D(),T(this.destroy$)).subscribe(t=>{let e=Number(t.get("page")),o=isNaN(e)||e<1?1:e,p=Math.min(o,10);if(e!==p){this.router.navigate([],{relativeTo:this.route,queryParams:{page:p},queryParamsHandling:"merge",replaceUrl:!0});return}this.pokemonFacade.loadPokemons(p)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadNextPokemonBatch(t){this.router.navigate([],{queryParams:{page:t},queryParamsHandling:"merge"}),this.pokemonFacade.loadPokemons(t)}goToPokemonDetails(t){this.router.navigate(["/pokemon",t])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=u({type:n,selectors:[["awa-pokemon-page"]],decls:5,vars:3,consts:[[1,"pokemon-page__center"],[1,"pokemon-page"],[3,"rowClick","data","displayedColumns","isClickable"],[1,"pokemon-page__pagination"],[3,"pageChange"],[3,"rowsLength","columns"]],template:function(e,o){if(e&1&&(a(0,"section",0)(1,"mat-card",1),f(2,re,3,3),q(3,"async"),f(4,pe,2,2),r()()),e&2){let i;s(2),N((i=L(3,1,o.pokemons$))?2:4,i)}},dependencies:[h,U,J,_,X,Q,R,Z,v,w,W],styles:['@keyframes _ngcontent-%COMP%_pulse{0%{background-color:#e0e0e0}50%{background-color:#f0f0f0}to{background-color:#e0e0e0}}.pokemon-page[_ngcontent-%COMP%]{padding:1rem;box-shadow:0 2px 8px #00000080}@media (max-width: 768px){.pokemon-page[_ngcontent-%COMP%]{width:100%}}.pokemon-page__center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:32px;min-height:calc(100vh - 112px);background-image:url("./media/bg-green-2x-optim-XFYXT7HV.png");background-repeat:no-repeat;background-size:cover}@media (min-width: 600px){.pokemon-page__center[_ngcontent-%COMP%]{min-height:calc(100vh - 128px)}}'],changeDetection:0})};export{ne as PokemonPageComponent};
